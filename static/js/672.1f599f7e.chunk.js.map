{"version":3,"file":"static/js/672.1f599f7e.chunk.js","mappings":"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","sources":["components/Layouts/PageHeader.jsx","components/Layouts/AppLayout.jsx","db/budgetDb.js","db/goalDb.js","db/transactionDb.js","supabaseData.js","constants.js","utils.js"],"sourcesContent":["// src/components/Layouts/PageHeader.jsx\n\nimport { FiRefreshCw } from \"react-icons/fi\";\nimport { IoIosArrowBack } from \"react-icons/io\";\nimport React from \"react\";\n\nconst PageHeader = ({ title, showRefreshButton, onRefresh, disabled, onBack }) => {\n  return (\n    <div className=\"header-container\">\n      <div\n        className={`header-title-wrapper ${onBack ? \"clickable\" : \"\"}`}\n        onClick={() => {\n          if (onBack) {\n            onBack();\n          }\n        }}\n      >\n        {onBack && (\n          <div className=\"header-back-button\" role=\"button\" aria-label=\"Go back\">\n            <IoIosArrowBack />\n          </div>\n        )}\n        <div className=\"header-title\">{title}</div>\n      </div>\n      {showRefreshButton && (\n        <button\n          className=\"refresh-button\"\n          onClick={onRefresh}\n          disabled={disabled}\n          aria-label=\"Refresh\"\n        >\n          <FiRefreshCw className=\"refresh-icon\" />\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default PageHeader;\n","// src/components/Layouts/AppLayout.jsx\n\nimport Loading from \"../Loader/Loading\";\nimport PageHeader from \"./PageHeader\";\nimport React from \"react\";\n\nconst AppLayout = ({ title, children, onRefresh, loading, onBack }) => {\n  return (\n    <div className=\"container\">\n      <PageHeader\n        title={title}\n        showRefreshButton={onRefresh !== undefined}\n        onRefresh={onRefresh}\n        disabled={loading}\n        onBack={onBack}\n      />\n      {loading ? <Loading /> : <>{children}</>}\n    </div>\n  );\n};\n\nexport default AppLayout;\n","import { get, set } from \"idb-keyval\";\n\nimport { fetchBudgetsData } from \"../supabaseData\";\nimport { getAllTransactions } from \"./transactionDb\";\n\nconst BUDGETS_KEY = \"budgets_cache\";\n\nexport const addBudget = async (budget) => {\n  try {\n    const existing = (await get(BUDGETS_KEY)) || [];\n    await set(BUDGETS_KEY, [...existing, budget]);\n    return true;\n  } catch (error) {\n    console.log(\"Error in adding budget\", error);\n    return false;\n  }\n};\n\nexport const updateBudget = async (updatedBudget) => {\n  try {\n    const existing = (await get(BUDGETS_KEY)) || [];\n    const updated = existing.map((b) =>\n      b.id === updatedBudget.id ? updatedBudget : b\n    );\n    await set(BUDGETS_KEY, updated);\n    return true;\n  } catch (error) {\n    console.log(\"Error in updating budget\", error);\n    return false;\n  }\n};\n\nexport const deleteBudget = async (id) => {\n  try {\n    const existing = (await get(BUDGETS_KEY)) || [];\n    const filtered = existing.filter((b) => b.id !== id);\n    await set(BUDGETS_KEY, filtered);\n    return true;\n  } catch (error) {\n    console.log(\"Error in deleting budget\", error)\n    return false;\n  }\n};\n\nexport const getCachedBudgets = async (force = false) => {\n  let budgets = await get(\"budgets_cache\");\n  if (!budgets || !Array.isArray(budgets) || force) {\n    budgets = await fetchBudgetsData();\n  }\n  return budgets;\n};\n\nexport const getCachedBudgetAmountMap = async (force = false, forceBudgets = false) => {\n  let budget_amount_map = await get(\"budgets_amount_map_cache\");\n  let lastFetched = localStorage.getItem(\"budgets_amount_map_cache_last_fetched\");\n\n  const FOUR_HOURS_IN_MS = 4 * 60 * 60 * 1000;\n  let freshDataRequired = false;\n\n  if (!lastFetched || Date.now() - lastFetched > FOUR_HOURS_IN_MS) {\n    freshDataRequired = true;\n  }\n\n  if (!budget_amount_map || typeof budget_amount_map !== \"object\" || force || freshDataRequired) {\n    const budgets = await getCachedBudgets(forceBudgets);\n\n    // Collect all budget category IDs\n    const budget_categories = budgets.flatMap((budget) => budget.categories);\n\n    const allTx = await getAllTransactions();\n\n    // Filter relevant transactions\n    const filteredTx = allTx.filter(\n      (tx) => tx.type === \"Expense\" && budget_categories.includes(tx.category_id)\n    );\n\n    if (filteredTx.length === 0) {\n      const emptyMap = {};\n      await set(\"budgets_amount_map_cache\", emptyMap);\n      return emptyMap;\n    }\n\n    // Sort to find min date\n    const sorted = filteredTx.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const minDate = new Date(sorted[0].date);\n    const maxDate = new Date(); // current date\n\n    // Step 1: Build empty map for all months and all budget categories\n    const budgetAmountMap = {};\n    const current = new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n\n    while (\n      current.getFullYear() < maxDate.getFullYear() ||\n      (current.getFullYear() === maxDate.getFullYear() &&\n        current.getMonth() <= maxDate.getMonth())\n    ) {\n      const year = current.getFullYear();\n      const month = current.getMonth(); // 0-based\n\n      for (const categoryId of budget_categories) {\n        const key = `${year}_${month}_${categoryId}`;\n        budgetAmountMap[key] = 0;\n      }\n\n      // Move to next month\n      current.setMonth(current.getMonth() + 1);\n    }\n\n    // Step 2: Add transaction amounts to the map\n    for (const tx of filteredTx) {\n      const date = new Date(tx.date);\n      const year = date.getFullYear();\n      const month = date.getMonth();\n      const key = `${year}_${month}_${tx.category_id}`;\n      budgetAmountMap[key] += tx.amount;\n    }\n\n    // Rounding\n    Object.keys(budgetAmountMap).forEach((key) => {\n      budgetAmountMap[key] = parseFloat(budgetAmountMap[key].toFixed(2));\n    });\n\n    await set(\"budgets_amount_map_cache\", budgetAmountMap);\n    localStorage.setItem(\"budgets_amount_map_cache_last_fetched\", Date.now())\n    return budgetAmountMap;\n  }\n\n  return budget_amount_map;\n};","// src/db/goalDb.js\n\nimport { get, set } from \"idb-keyval\";\n\nimport { fetchGoalsData } from \"../supabaseData\";\nimport { getGoalsCacheKey } from \"../utils\";\n\nexport const addGoal = async (goal) => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  const existing = (await get(GOALS_CACHE_KEY)) || [];\n  const updated = [...existing, goal];\n  await set(GOALS_CACHE_KEY, updated);\n};\n\nexport const updateGoal = async (updatedGoal) => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  const existing = (await get(GOALS_CACHE_KEY)) || [];\n  const updated = existing.map((g) =>\n    g.id === updatedGoal.id ? updatedGoal : g\n  );\n  await set(GOALS_CACHE_KEY, updated);\n};\n\nexport const deleteGoal = async (id) => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  const existing = (await get(GOALS_CACHE_KEY)) || [];\n  const updated = existing.filter((g) => g.id !== id);\n  await set(GOALS_CACHE_KEY, updated);\n};\n\nexport const getCachedGoals = async () => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  let goals = await get(GOALS_CACHE_KEY);\n  if (!goals || !Array.isArray(goals)) {\n    goals = await fetchGoalsData();\n  }\n  return goals;\n}\n","// src/db/transactionDb.js\n\nimport { createStore, set, get, del, keys } from \"idb-keyval\";\nimport { getTransactionCachekeys } from \"../utils\";\n\n// Create a function to get a user-specific store\nconst getUserStore = () => {\n  const { TRANSACTION_DB_NAME } = getTransactionCachekeys()\n  return createStore(TRANSACTION_DB_NAME, \"transactions-store\");\n};\n\nexport const storeTransactions = async (transactions) => {\n  const { LAST_TRANSACTION_FETCH } = getTransactionCachekeys()\n  const txStore = getUserStore();\n  for (const tx of transactions) {\n    await set(tx.id, tx, txStore);\n  }\n  localStorage.setItem(LAST_TRANSACTION_FETCH, Date.now());\n};\n\nexport const getAllTransactions = async () => {\n  const txStore = getUserStore();\n  const allKeys = await keys(txStore);\n  const allData = await Promise.all(allKeys.map((key) => get(key, txStore)));\n  return allData;\n};\n\nexport const clearTransactions = async () => {\n  const txStore = getUserStore();\n  const allKeys = await keys(txStore);\n  await Promise.all(allKeys.map((key) => del(key, txStore)));\n};\n\nexport const updateTransactionInDb = async (transaction) => {\n  const txStore = getUserStore();\n  await set(transaction.id, transaction, txStore);\n};\n\nexport const deleteTransactionInDb = async (id) => {\n  const txStore = getUserStore();\n  await del(id, txStore);\n};\n","// src/supabaseData.js\n\nimport { addBudget, deleteBudget, updateBudget } from \"./db/budgetDb\";\nimport { addGoal, deleteGoal, updateGoal } from \"./db/goalDb\";\nimport {\n  clearTransactions,\n  deleteTransactionInDb,\n  getAllTransactions,\n  storeTransactions,\n  updateTransactionInDb,\n} from \"./db/transactionDb\";\nimport { del, set } from \"idb-keyval\";\nimport { getGoalsCacheKey, getSupabaseUserIdFromLocalStorage } from \"./utils\";\n\nimport { supabase } from \"./supabaseClient\";\n\nexport const loadTransactionsFromSupabase = async () => {\n  const CHUNK_SIZE = 1000;\n  const userId = getSupabaseUserIdFromLocalStorage();\n  if (!userId) return [];\n  let allData = [];\n  let offset = 0;\n  let hasMore = true;\n\n  while (hasMore) {\n    const { data, error } = await supabase.rpc(\"get_user_transactions\", {\n      uid: userId,\n      search_term: \"\",\n      limit_count: CHUNK_SIZE,\n      offset_count: offset,\n    });\n\n    if (error) {\n      console.error(\"Error fetching transactions:\", error);\n      break;\n    }\n\n    if (data.length === 0) {\n      hasMore = false;\n      break;\n    }\n\n    allData = [...allData, ...data];\n    offset += CHUNK_SIZE;\n  }\n  await clearTransactions();\n  await storeTransactions(allData);\n  return allData;\n};\n\nexport const getMaxTransactionTimestamp = async () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  const { data, error } = await supabase\n    .from(\"transactions\")\n    .select(\"transaction_timestamp\")\n    .eq(\"user_id\", userId)\n    .order(\"transaction_timestamp\", { ascending: false })\n    .limit(1);\n\n  if (error) {\n    console.error(\"Error fetching max transaction timestamp:\", error);\n    return null;\n  }\n\n  return data.length > 0 ? data[0].transaction_timestamp : null;\n};\n\nexport const needsTransactionSync = async () => {\n  try {\n    const allTx = await getAllTransactions();\n    if (allTx.length < 1) {\n      return true; // no local data → needs sync\n    }\n\n    const maxLocalDate = new Date(\n      Math.max(\n        ...allTx.map((tx) => new Date(tx.transaction_timestamp).getTime())\n      )\n    );\n\n    const maxSupabaseDateStr = await getMaxTransactionTimestamp();\n    const maxSupabaseDate = maxSupabaseDateStr\n      ? new Date(maxSupabaseDateStr)\n      : null;\n\n    // If Supabase has no timestamp or local is behind, we need sync\n    if (!maxSupabaseDate || maxLocalDate < maxSupabaseDate) {\n      return true;\n    }\n\n    // If both are same or local is ahead, no sync needed\n    return false;\n  } catch (error) {\n    console.error(\"Error in needsTransactionSync:\", error);\n    return true; // safe default → try to sync\n  }\n};\n\nexport const updateTransaction = async (id, payload, options = {}) => {\n  const {\n    incomeCategories = [],\n    expenseCategories = [],\n    payees = [],\n  } = options;\n\n  const allCategories = [...incomeCategories, ...expenseCategories];\n  const category = allCategories.find((cat) => cat.id === payload.category_id);\n  const payee = payees.find((p) => p.id === payload.payee_id);\n\n  const updatedData = {\n    id,\n    amount: payload.amount,\n    description: payload.description,\n    transaction_timestamp: payload.transaction_timestamp,\n    category_id: payload.category_id,\n    category_name: category?.name || \"\",\n    category_icon: category?.icon || \"\",\n    payee_id: payload.payee_id || null,\n    payee_name: payee?.name || null,\n    payee_logo: payee?.logo || null,\n    type: category?.type || \"Expense\",\n    date: payload.transaction_timestamp.split(\"T\")[0],\n    product_link: payload.product_link || null,\n  };\n\n  // 1. Update in IndexedDB immediately\n  await updateTransactionInDb(updatedData);\n\n  // 2. Sync with Supabase (async, fire-and-forget pattern)\n  supabase\n    .from(\"transactions\")\n    .update(payload)\n    .eq(\"id\", id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase update failed:\", error);\n        // Optional: Retry logic or error handling here\n      }\n    });\n\n  return updatedData;\n};\n\nexport const deleteTransaction = async (id) => {\n  // 1. Delete from IndexedDB\n  await deleteTransactionInDb(id);\n\n  // 2. Sync delete with Supabase in background\n  supabase\n    .from(\"transactions\")\n    .delete()\n    .eq(\"id\", id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase delete failed:\", error);\n        // Optional: Retry logic or error handling here\n      }\n    });\n};\n\nexport const addTransaction = async (payload, options = {}) => {\n  const {\n    incomeCategories = [],\n    expenseCategories = [],\n    payees = [],\n  } = options;\n\n  const allCategories = [...incomeCategories, ...expenseCategories];\n  const category = allCategories.find((cat) => cat.id === payload.category_id);\n  const payee = payees.find((p) => p.id === payload.payee_id);\n\n  const newId = crypto.randomUUID();\n  const newTransaction = {\n    id: newId,\n    amount: payload.amount,\n    description: payload.description,\n    transaction_timestamp: payload.transaction_timestamp,\n    category_id: payload.category_id,\n    category_name: category?.name || \"\",\n    category_icon: category?.icon || \"\",\n    payee_id: payload.payee_id || null,\n    payee_name: payee?.name || null,\n    payee_logo: payee?.logo || null,\n    type: category?.type || \"Expense\",\n    date: payload.transaction_timestamp.split(\"T\")[0],\n    user_id: getSupabaseUserIdFromLocalStorage(),\n  };\n\n  // 1. Store in IndexedDB first\n  await updateTransactionInDb(newTransaction); // reuse update logic\n\n  // 2. Sync with Supabase in the background\n  supabase\n    .from(\"transactions\")\n    .insert([\n      {\n        id: newTransaction.id,\n        amount: newTransaction.amount,\n        description: newTransaction.description,\n        transaction_timestamp: newTransaction.transaction_timestamp,\n        category_id: newTransaction.category_id,\n        payee_id: newTransaction.payee_id,\n        type: newTransaction.type,\n        user_id: newTransaction.user_id,\n      },\n    ])\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase insert failed:\", error);\n      }\n    });\n\n  return newTransaction;\n};\n\nexport const fetchGoalsData = async () => {\n  const { GOALS_CACHE_KEY, GOALS_EXPIRY_KEY } = getGoalsCacheKey();\n  const { data, error } = await supabase.from(\"goals\").select(\"*\");\n  if (error) console.error(\"Error fetching goals:\", error);\n  else {\n    localStorage.setItem(GOALS_EXPIRY_KEY, Date.now());\n    await del(GOALS_CACHE_KEY);\n    await set(GOALS_CACHE_KEY, data);\n    return data;\n  }\n};\n\nexport const addGoalInDb = async (payload) => {\n  const id = crypto.randomUUID();\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  const goal = {\n    id,\n    user_id: userId,\n    name: payload.name,\n    logo: payload.logo,\n    goal_amount: parseFloat(payload.goal_amount),\n    current_amount: parseFloat(payload.current_amount) || 0,\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  };\n\n  // 1. Add to IndexedDB\n  await addGoal(goal);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"goals\")\n    .insert([goal])\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase insert failed:\", error);\n      }\n    });\n\n  return goal;\n};\n\nexport const updateGoalInDb = async (goal) => {\n  const updated = {\n    ...goal,\n    updated_at: new Date().toISOString(),\n  };\n\n  // 1. Update in IndexedDB\n  await updateGoal(updated);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"goals\")\n    .update(updated)\n    .eq(\"id\", goal.id)\n    .eq(\"user_id\", goal.user_id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase update failed:\", error);\n      }\n    });\n\n  return updated;\n};\n\nexport const deleteGoalInDb = async (id) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  // 1. Delete from IndexedDB\n  await deleteGoal(id);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"goals\")\n    .delete()\n    .eq(\"id\", id)\n    .eq(\"user_id\", userId)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase delete failed:\", error);\n      }\n    });\n};\n\nexport const fetchBudgetsData = async () => {\n  const BUDGETS_CACHE_KEY = \"budgets_cache\";\n  const { data, error } = await supabase.from(\"budgets\").select(\"*\");\n  if (error) console.error(\"Error fetching budgets:\", error);\n  else {\n    await del(BUDGETS_CACHE_KEY);\n    await set(BUDGETS_CACHE_KEY, data);\n    return data;\n  }\n};\n\nexport const addBudgetInDb = async (payload) => {\n  const id = crypto.randomUUID();\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  const budget = {\n    id,\n    user_id: userId,\n    name: payload.name,\n    amount: payload.amount,\n    interval: payload.interval,\n    start_date: payload.start_date,\n    categories: payload.categories,\n    logo: payload.logo,\n    created_at: new Date().toISOString(),\n  };\n\n  // 1. Add to IndexedDB\n  await addBudget(budget);\n\n  // 2. Sync to Supabase\n  supabase\n    .from(\"budgets\")\n    .insert([budget])\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase insert failed:\", error);\n      }\n    });\n\n  return budget;\n};\n\nexport const updateBudgetInDb = async (budget) => {\n  await updateBudget({\n    ...budget,\n    updated_at: new Date().toISOString(),\n  });\n\n  supabase\n    .from(\"budgets\")\n    .update(budget)\n    .eq(\"id\", budget.id)\n    .eq(\"user_id\", budget.user_id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase update failed:\", error);\n      }\n    });\n\n  return {\n    ...budget,\n    updated_at: new Date().toISOString(),\n  };\n};\n\nexport const deleteBudgetInDb = async (id) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  // 1. Delete from IndexedDB\n  await deleteBudget(id);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"budgets\")\n    .delete()\n    .eq(\"id\", id)\n    .eq(\"user_id\", userId)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase delete failed:\", error);\n      }\n    });\n};\n","export const MY_KEYS ={\n  GOALS_CACHE_KEY:\"goals\",\n  LAST_GOAL_FETCH_CACHE_KEY:\"last_goals_fetch\",\n  LAST_TRANSACTION_FETCH_CACHE_KEY:\"last_transaction_fetch\",\n  EXPENSE_CATEGORIES_CACHE_KEY:\"expense_categories\",\n  INCOME_CATEGORIES_CACHE_KEY:\"income_categories\",\n  PAYEES_CACHE_KEY:\"payees\",\n  CHOOSEN_CATEGORIES_CACHE_KEY:\"_choosen_category_ids\",\n}\n","// src/utils.js\n\nimport * as MdIcons from \"react-icons/md\";\n\nimport { MY_KEYS } from \"./constants\";\nimport React from \"react\";\nimport {\n  fetchGoalsData,\n} from \"./supabaseData\";\nimport { format } from \"date-fns\";\nimport { groupBy } from \"lodash\";\n\nexport const formatIndianNumber = (num) => {\n  if (typeof num !== \"number\" || isNaN(num)) return \"₹0\";\n  const isNegative = num < 0;\n  const absoluteValue = Math.abs(num);\n  const formatted = absoluteValue.toLocaleString(\"en-IN\");\n\n  return isNegative ? `-₹${formatted}` : `₹${formatted}`;\n};\n\n// Utility to get relative time\nexport const getRelativeTime = (timestamp) => {\n  const diff = Date.now() - timestamp;\n  const mins = Math.floor(diff / 60000);\n  if (mins < 1) return \"just now\";\n  if (mins < 60) return `${mins} min${mins > 1 ? \"s\" : \"\"} ago`;\n  const hours = Math.floor(mins / 60);\n  if (hours < 24) return `${hours} hour${hours > 1 ? \"s\" : \"\"} ago`;\n  const days = Math.floor(hours / 24);\n  return `${days} day${days > 1 ? \"s\" : \"\"} ago`;\n};\n\nexport const calculatePayDayInfo = () => {\n  const today = new Date();\n  const currentDay = today.getDate();\n  const daysInMonth = new Date(\n    today.getFullYear(),\n    today.getMonth() + 1,\n    0\n  ).getDate();\n\n  const remainingDays = daysInMonth - currentDay + 1; // include today\n  const remainingDaysPercentage = ((remainingDays / daysInMonth) * 100).toFixed(\n    0\n  );\n\n  const nextMonthFirst = new Date(today.getFullYear(), today.getMonth() + 1, 1);\n  const monthName = nextMonthFirst.toLocaleString(\"en-US\", { month: \"short\" });\n  const formattedNextMonth = `${monthName} 01`;\n\n  return {\n    date: formattedNextMonth,\n    today: currentDay,\n    days_in_month: daysInMonth,\n    remaining_days: remainingDays,\n    remaining_days_percentage: Number(remainingDaysPercentage),\n  };\n};\n\nexport function formatDateToDayMonthYear(input) {\n  return format(new Date(input), \"dd MMM yyyy\");\n}\n\nexport const getMonthOptions = (year) => {\n  const monthNames = [\n    \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n    \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n  ];\n\n  const now = new Date();\n  const currentYear = now.getFullYear();\n  const currentMonth = now.getMonth(); // 0-based\n\n  const maxMonth = year === currentYear ? currentMonth : 11;\n\n  return monthNames\n    .slice(0, maxMonth + 1)\n    .map((label, value) => ({ value, label }));\n};\n\nexport const getYearOptions = (startYear = 2022) => {\n  const currentYear = new Date().getFullYear();\n  const years = [];\n\n  for (let year = currentYear; year >= startYear; year--) {\n    years.push({ value: year, label: year });\n  }\n\n  return years;\n};\n\nexport const getTopCategoryColors = (count) => {\n  const COLOR_PALETTE = [\n    \"#0088FE\",\n    \"#00C49F\",\n    \"#FFBB28\",\n    \"#FF8042\",\n    \"#FF6B6B\",\n    \"#FFD93D\",\n    \"#6BCB77\",\n    \"#4D96FF\",\n    \"#845EC2\",\n    \"#FFC75F\",\n    \"#F9F871\",\n    \"#00C9A7\",\n    \"#C34A36\",\n    \"#B39CD0\",\n    \"#0081CF\",\n    \"#FF8066\",\n    \"#A0E7E5\",\n    \"#F7B801\",\n    \"#7DCE82\",\n    \"#3DCCC7\",\n    \"#A28089\",\n    \"#9D8189\",\n    \"#6A0572\",\n    \"#E4BAD4\",\n  ];\n  return COLOR_PALETTE.slice(0, count);\n};\n\nexport function getSupabaseUserIdFromLocalStorage() {\n  for (let i = 0; i < localStorage.length; i++) {\n    const key = localStorage.key(i);\n\n    if (key.endsWith(\"-auth-token\")) {\n      try {\n        const value = localStorage.getItem(key);\n        if (value) {\n          const session = JSON.parse(value);\n          const userId = session?.user?.id;\n          if (userId) {\n            return userId;\n          }\n        }\n      } catch (error) {\n        console.error(`Failed to parse auth token for key: ${key}`, error);\n      }\n    }\n  }\n  return null; // Return null if no user ID found\n}\n\nexport const renderIcon = (iconName, size = 36) => {\n  const Icon = MdIcons[iconName];\n  return Icon ? <Icon size={size} /> : null;\n};\n\nexport const formatTimestamp = (timestamp) => {\n  return timestamp ? format(new Date(timestamp), \"dd MMM yy hh:mm a\") : \"\";\n};\n\nexport const refreshGoalsCache = async (force = false) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  const CACHE_KEY = `${userId}_${MY_KEYS.LAST_GOAL_FETCH_CACHE_KEY}`;\n  const EXPIRY_MS = 24 * 60 * 60 * 1000; // 24 hours\n\n  const lastFetch = localStorage.getItem(CACHE_KEY);\n  const now = Date.now();\n\n  const isExpired = !lastFetch || now - Number(lastFetch) > EXPIRY_MS;\n\n  if (force || isExpired) {\n    const data = await fetchGoalsData();\n    return data;\n  }\n};\n\nexport const getGoalsCacheKey = () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    GOALS_CACHE_KEY: `${userId}_${MY_KEYS.GOALS_CACHE_KEY}`,\n    GOALS_EXPIRY_KEY: `${userId}_${MY_KEYS.LAST_GOAL_FETCH_CACHE_KEY}`,\n  };\n  return result;\n};\n\nexport const getCategoryCachekeys = (type) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    INCOME_CACHE_KEY: `${userId}_${MY_KEYS.INCOME_CATEGORIES_CACHE_KEY}`,\n    EXPENSE_CACHE_KEY: `${userId}_${MY_KEYS.EXPENSE_CATEGORIES_CACHE_KEY}`,\n    CHOOSEN_CATEGORIES_CACHE_KEY: `${userId}_${MY_KEYS.CHOOSEN_CATEGORIES_CACHE_KEY}`,\n  };\n  return result;\n};\n\nexport const getPayeeCacheKey = () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    PAYEE_CACHE_KEY: `${userId}_${MY_KEYS.PAYEES_CACHE_KEY}`,\n  };\n  return result;\n};\n\nexport const getTransactionCachekeys = () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    LAST_TRANSACTION_FETCH: `${userId}_${MY_KEYS.LAST_TRANSACTION_FETCH_CACHE_KEY}`,\n    TRANSACTION_DB_NAME: `transactions-db-${userId}`,\n  };\n  return result;\n};\n\nexport const groupAndSortTransactions = (transactions) => {\n  let sorted = transactions.sort(\n    (a, b) => new Date(b.date) - new Date(a.date)\n  );\n  let grouped = groupBy(sorted, \"date\");\n  Object.keys(grouped).forEach((date) => {\n    grouped[date] = grouped[date].sort(\n      (a, b) => new Date(b.transaction_timestamp) - new Date(a.transaction_timestamp)\n    );\n  });\n  return grouped;\n}"],"names":["_ref","title","showRefreshButton","onRefresh","disabled","onBack","_jsxs","className","children","concat","onClick","_jsx","role","IoIosArrowBack","FiRefreshCw","loading","PageHeader","undefined","Loading","_Fragment","BUDGETS_KEY","addBudget","async","existing","get","set","budget","error","console","log","updateBudget","updated","map","b","id","updatedBudget","deleteBudget","filtered","filter","getCachedBudgets","force","arguments","length","budgets","Array","isArray","fetchBudgetsData","getCachedBudgetAmountMap","forceBudgets","budget_amount_map","lastFetched","localStorage","getItem","freshDataRequired","Date","now","budget_categories","flatMap","categories","filteredTx","getAllTransactions","tx","type","includes","category_id","emptyMap","sorted","sort","a","date","minDate","maxDate","budgetAmountMap","current","getFullYear","getMonth","year","month","categoryId","key","setMonth","amount","Object","keys","forEach","parseFloat","toFixed","setItem","addGoal","GOALS_CACHE_KEY","getGoalsCacheKey","goal","updateGoal","g","updatedGoal","deleteGoal","getCachedGoals","goals","fetchGoalsData","getUserStore","TRANSACTION_DB_NAME","getTransactionCachekeys","createStore","storeTransactions","LAST_TRANSACTION_FETCH","txStore","transactions","allKeys","Promise","all","clearTransactions","del","updateTransactionInDb","transaction","deleteTransactionInDb","loadTransactionsFromSupabase","userId","getSupabaseUserIdFromLocalStorage","allData","offset","hasMore","data","supabase","rpc","uid","search_term","limit_count","offset_count","needsTransactionSync","allTx","maxLocalDate","Math","max","transaction_timestamp","getTime","maxSupabaseDateStr","from","select","eq","order","ascending","limit","getMaxTransactionTimestamp","maxSupabaseDate","updateTransaction","payload","options","incomeCategories","expenseCategories","payees","category","find","cat","payee","p","payee_id","updatedData","description","category_name","name","category_icon","icon","payee_name","payee_logo","logo","split","product_link","update","then","deleteTransaction","delete","_ref2","addTransaction","newTransaction","crypto","randomUUID","user_id","insert","_ref3","GOALS_EXPIRY_KEY","addGoalInDb","goal_amount","current_amount","created_at","toISOString","updated_at","_ref4","updateGoalInDb","_objectSpread","_ref5","deleteGoalInDb","_ref6","BUDGETS_CACHE_KEY","addBudgetInDb","interval","start_date","_ref7","updateBudgetInDb","_ref8","deleteBudgetInDb","_ref9","MY_KEYS","formatIndianNumber","num","isNaN","isNegative","formatted","abs","toLocaleString","getRelativeTime","timestamp","diff","mins","floor","hours","days","calculatePayDayInfo","today","currentDay","getDate","daysInMonth","remainingDays","remainingDaysPercentage","monthName","days_in_month","remaining_days","remaining_days_percentage","Number","formatDateToDayMonthYear","input","format","getMonthOptions","currentYear","currentMonth","slice","label","value","getYearOptions","startYear","years","push","getTopCategoryColors","count","i","endsWith","_session$user","session","JSON","parse","user","renderIcon","iconName","size","Icon","MdIcons","formatTimestamp","refreshGoalsCache","CACHE_KEY","lastFetch","isExpired","getCategoryCachekeys","INCOME_CACHE_KEY","EXPENSE_CACHE_KEY","CHOOSEN_CATEGORIES_CACHE_KEY","getPayeeCacheKey","PAYEE_CACHE_KEY","groupAndSortTransactions","grouped","groupBy"],"sourceRoot":""}