{"version":3,"file":"static/js/672.2fe13daa.chunk.js","mappings":"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","sources":["components/Layouts/PageHeader.jsx","components/Layouts/AppLayout.jsx","db/budgetDb.js","constants.js","utils.js","db/transactionDb.js","db/goalDb.js","supabaseData.js"],"sourcesContent":["// src/components/Layouts/PageHeader.jsx\n\nimport { FiRefreshCw } from \"react-icons/fi\";\nimport { IoIosArrowBack } from \"react-icons/io\";\nimport React from \"react\";\n\nconst PageHeader = ({ title, showRefreshButton, onRefresh, disabled, onBack }) => {\n  return (\n    <div className=\"header-container\">\n      <div\n        className={`header-title-wrapper ${onBack ? \"clickable\" : \"\"}`}\n        onClick={() => {\n          if (onBack) {\n            onBack();\n          }\n        }}\n      >\n        {onBack && (\n          <div className=\"header-back-button\" role=\"button\" aria-label=\"Go back\">\n            <IoIosArrowBack />\n          </div>\n        )}\n        <div className=\"header-title\">{title}</div>\n      </div>\n      {showRefreshButton && (\n        <button\n          className=\"refresh-button\"\n          onClick={onRefresh}\n          disabled={disabled}\n          aria-label=\"Refresh\"\n        >\n          <FiRefreshCw className=\"refresh-icon\" />\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default PageHeader;\n","// src/components/Layouts/AppLayout.jsx\n\nimport Loading from \"../Loader/Loading\";\nimport PageHeader from \"./PageHeader\";\nimport React from \"react\";\n\nconst AppLayout = ({ title, children, onRefresh, loading, onBack }) => {\n  return (\n    <div className=\"container\">\n      <PageHeader\n        title={title}\n        showRefreshButton={onRefresh !== undefined}\n        onRefresh={onRefresh}\n        disabled={loading}\n        onBack={onBack}\n      />\n      {loading ? <Loading /> : <>{children}</>}\n    </div>\n  );\n};\n\nexport default AppLayout;\n","import { get, set } from \"idb-keyval\";\n\nimport { fetchBudgetsData } from \"../supabaseData\";\nimport { getAllTransactions } from \"./transactionDb\";\n\nconst BUDGETS_KEY = \"budgets_cache\";\n\nexport const addBudget = async (budget) => {\n  try {\n    const existing = (await get(BUDGETS_KEY)) || [];\n    await set(BUDGETS_KEY, [...existing, budget]);\n    return true;\n  } catch (error) {\n    console.log(\"Error in adding budget\", error);\n    return false;\n  }\n};\n\nexport const updateBudget = async (updatedBudget) => {\n  try {\n    const existing = (await get(BUDGETS_KEY)) || [];\n    const updated = existing.map((b) =>\n      b.id === updatedBudget.id ? updatedBudget : b\n    );\n    await set(BUDGETS_KEY, updated);\n    return true;\n  } catch (error) {\n    console.log(\"Error in updating budget\", error);\n    return false;\n  }\n};\n\nexport const deleteBudget = async (id) => {\n  try {\n    const existing = (await get(BUDGETS_KEY)) || [];\n    const filtered = existing.filter((b) => b.id !== id);\n    await set(BUDGETS_KEY, filtered);\n    return true;\n  } catch (error) {\n    console.log(\"Error in deleting budget\", error)\n    return false;\n  }\n};\n\nexport const getCachedBudgets = async (force = false) => {\n  let budgets = await get(\"budgets_cache\");\n  if (!budgets || !Array.isArray(budgets) || force) {\n    budgets = await fetchBudgetsData();\n  }\n  return budgets;\n};\n\nexport const getCachedBudgetAmountMap = async (force = false, forceBudgets = false) => {\n  let budget_amount_map = await get(\"budgets_amount_map_cache\");\n  let lastFetched = localStorage.getItem(\"budgets_amount_map_cache_last_fetched\");\n\n  const FOUR_HOURS_IN_MS = 4 * 60 * 60 * 1000;\n  let freshDataRequired = false;\n\n  if (!lastFetched || Date.now() - lastFetched > FOUR_HOURS_IN_MS) {\n    freshDataRequired = true;\n  }\n\n  if (!budget_amount_map || typeof budget_amount_map !== \"object\" || force || freshDataRequired) {\n    const budgets = await getCachedBudgets(forceBudgets);\n\n    // Collect all budget category IDs\n    const budget_categories = budgets.flatMap((budget) => budget.categories);\n\n    const allTx = await getAllTransactions();\n\n    // Filter relevant transactions\n    const filteredTx = allTx.filter(\n      (tx) => tx.type === \"Expense\" && budget_categories.includes(tx.category_id)\n    );\n\n    if (filteredTx.length === 0) {\n      const emptyMap = {};\n      await set(\"budgets_amount_map_cache\", emptyMap);\n      return emptyMap;\n    }\n\n    // Sort to find min date\n    const sorted = filteredTx.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const minDate = new Date(sorted[0].date);\n    const maxDate = new Date(); // current date\n\n    // Step 1: Build empty map for all months and all budget categories\n    const budgetAmountMap = {};\n    const current = new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n\n    while (\n      current.getFullYear() < maxDate.getFullYear() ||\n      (current.getFullYear() === maxDate.getFullYear() &&\n        current.getMonth() <= maxDate.getMonth())\n    ) {\n      const year = current.getFullYear();\n      const month = current.getMonth(); // 0-based\n\n      for (const categoryId of budget_categories) {\n        const key = `${year}_${month}_${categoryId}`;\n        budgetAmountMap[key] = 0;\n      }\n\n      // Move to next month\n      current.setMonth(current.getMonth() + 1);\n    }\n\n    // Step 2: Add transaction amounts to the map\n    for (const tx of filteredTx) {\n      const date = new Date(tx.date);\n      const year = date.getFullYear();\n      const month = date.getMonth();\n      const key = `${year}_${month}_${tx.category_id}`;\n      budgetAmountMap[key] += tx.amount;\n    }\n\n    // Rounding\n    Object.keys(budgetAmountMap).forEach((key) => {\n      budgetAmountMap[key] = parseFloat(budgetAmountMap[key].toFixed(2));\n    });\n\n    await set(\"budgets_amount_map_cache\", budgetAmountMap);\n    localStorage.setItem(\"budgets_amount_map_cache_last_fetched\", Date.now())\n    return budgetAmountMap;\n  }\n\n  return budget_amount_map;\n};","export const MY_KEYS ={\n  GOALS_CACHE_KEY:\"goals\",\n  LAST_GOAL_FETCH_CACHE_KEY:\"last_goals_fetch\",\n  LAST_TRANSACTION_FETCH_CACHE_KEY:\"last_transaction_fetch\",\n  EXPENSE_CATEGORIES_CACHE_KEY:\"expense_categories\",\n  INCOME_CATEGORIES_CACHE_KEY:\"income_categories\",\n  PAYEES_CACHE_KEY:\"payees\",\n  CHOOSEN_CATEGORIES_CACHE_KEY:\"_choosen_category_ids\",\n}\n","// src/utils.js\n\nimport * as MdIcons from \"react-icons/md\";\n\nimport { MY_KEYS } from \"./constants\";\nimport React from \"react\";\nimport {\n  fetchGoalsData,\n} from \"./supabaseData\";\nimport { format } from \"date-fns\";\nimport { groupBy } from \"lodash\";\n\nexport const formatIndianNumber = (num) => {\n  if (typeof num !== \"number\" || isNaN(num)) return \"₹0\";\n  const isNegative = num < 0;\n  const absoluteValue = Math.abs(num);\n  const formatted = absoluteValue.toLocaleString(\"en-IN\");\n\n  return isNegative ? `-₹${formatted}` : `₹${formatted}`;\n};\n\n// Utility to get relative time\nexport const getRelativeTime = (timestamp) => {\n  const diff = Date.now() - timestamp;\n  const mins = Math.floor(diff / 60000);\n  if (mins < 1) return \"just now\";\n  if (mins < 60) return `${mins} min${mins > 1 ? \"s\" : \"\"} ago`;\n  const hours = Math.floor(mins / 60);\n  if (hours < 24) return `${hours} hour${hours > 1 ? \"s\" : \"\"} ago`;\n  const days = Math.floor(hours / 24);\n  return `${days} day${days > 1 ? \"s\" : \"\"} ago`;\n};\n\nexport const calculatePayDayInfo = () => {\n  const today = new Date();\n  const currentDay = today.getDate();\n  const daysInMonth = new Date(\n    today.getFullYear(),\n    today.getMonth() + 1,\n    0\n  ).getDate();\n\n  const remainingDays = daysInMonth - currentDay + 1; // include today\n  const remainingDaysPercentage = ((remainingDays / daysInMonth) * 100).toFixed(\n    0\n  );\n\n  const nextMonthFirst = new Date(today.getFullYear(), today.getMonth() + 1, 1);\n  const monthName = nextMonthFirst.toLocaleString(\"en-US\", { month: \"short\" });\n  const formattedNextMonth = `${monthName} 01`;\n\n  return {\n    date: formattedNextMonth,\n    today: currentDay,\n    days_in_month: daysInMonth,\n    remaining_days: remainingDays,\n    remaining_days_percentage: Number(remainingDaysPercentage),\n  };\n};\n\nexport function formatDateToDayMonthYear(input) {\n  return format(new Date(input), \"dd MMM yyyy\");\n}\n\nexport const getMonthOptions = (year) => {\n  const monthNames = [\n    \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n    \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n  ];\n\n  const now = new Date();\n  const currentYear = now.getFullYear();\n  const currentMonth = now.getMonth(); // 0-based\n\n  const maxMonth = year === currentYear ? currentMonth : 11;\n\n  return monthNames\n    .slice(0, maxMonth + 1)\n    .map((label, value) => ({ value, label }));\n};\n\nexport const getYearOptions = (startYear = 2022) => {\n  const currentYear = new Date().getFullYear();\n  const years = [];\n\n  for (let year = currentYear; year >= startYear; year--) {\n    years.push({ value: year, label: year });\n  }\n\n  return years;\n};\n\nexport const getTopCategoryColors = (count) => {\n  const COLOR_PALETTE = [\n    \"#0088FE\",\n    \"#00C49F\",\n    \"#FFBB28\",\n    \"#FF8042\",\n    \"#FF6B6B\",\n    \"#FFD93D\",\n    \"#6BCB77\",\n    \"#4D96FF\",\n    \"#845EC2\",\n    \"#FFC75F\",\n    \"#F9F871\",\n    \"#00C9A7\",\n    \"#C34A36\",\n    \"#B39CD0\",\n    \"#0081CF\",\n    \"#FF8066\",\n    \"#A0E7E5\",\n    \"#F7B801\",\n    \"#7DCE82\",\n    \"#3DCCC7\",\n    \"#A28089\",\n    \"#9D8189\",\n    \"#6A0572\",\n    \"#E4BAD4\",\n  ];\n  return COLOR_PALETTE.slice(0, count);\n};\n\nexport function getSupabaseUserIdFromLocalStorage() {\n  for (let i = 0; i < localStorage.length; i++) {\n    const key = localStorage.key(i);\n\n    if (key.endsWith(\"-auth-token\")) {\n      try {\n        const value = localStorage.getItem(key);\n        if (value) {\n          const session = JSON.parse(value);\n          const userId = session?.user?.id;\n          if (userId) {\n            return userId;\n          }\n        }\n      } catch (error) {\n        console.error(`Failed to parse auth token for key: ${key}`, error);\n      }\n    }\n  }\n  return null; // Return null if no user ID found\n}\n\nexport const renderIcon = (iconName, size = 36) => {\n  const Icon = MdIcons[iconName];\n  return Icon ? <Icon size={size} /> : null;\n};\n\nexport const formatTimestamp = (timestamp) => {\n  return timestamp ? format(new Date(timestamp), \"dd MMM yy hh:mm a\") : \"\";\n};\n\nexport const refreshGoalsCache = async (force = false) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  const CACHE_KEY = `${userId}_${MY_KEYS.LAST_GOAL_FETCH_CACHE_KEY}`;\n  const EXPIRY_MS = 24 * 60 * 60 * 1000; // 24 hours\n\n  const lastFetch = localStorage.getItem(CACHE_KEY);\n  const now = Date.now();\n\n  const isExpired = !lastFetch || now - Number(lastFetch) > EXPIRY_MS;\n\n  if (force || isExpired) {\n    const data = await fetchGoalsData();\n    return data;\n  }\n};\n\nexport const getGoalsCacheKey = () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    GOALS_CACHE_KEY: `${userId}_${MY_KEYS.GOALS_CACHE_KEY}`,\n    GOALS_EXPIRY_KEY: `${userId}_${MY_KEYS.LAST_GOAL_FETCH_CACHE_KEY}`,\n  };\n  return result;\n};\n\nexport const getCategoryCachekeys = (type) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    INCOME_CACHE_KEY: `${userId}_${MY_KEYS.INCOME_CATEGORIES_CACHE_KEY}`,\n    EXPENSE_CACHE_KEY: `${userId}_${MY_KEYS.EXPENSE_CATEGORIES_CACHE_KEY}`,\n    CHOOSEN_CATEGORIES_CACHE_KEY: `${userId}_${MY_KEYS.CHOOSEN_CATEGORIES_CACHE_KEY}`,\n  };\n  return result;\n};\n\nexport const getPayeeCacheKey = () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    PAYEE_CACHE_KEY: `${userId}_${MY_KEYS.PAYEES_CACHE_KEY}`,\n  };\n  return result;\n};\n\nexport const getTransactionCachekeys = () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  let result = {\n    LAST_TRANSACTION_FETCH: `${userId}_${MY_KEYS.LAST_TRANSACTION_FETCH_CACHE_KEY}`,\n    TRANSACTION_DB_NAME: `transactions-db-${userId}`,\n  };\n  return result;\n};\n\nexport const groupAndSortTransactions = (transactions) => {\n  let sorted = transactions.sort(\n    (a, b) => new Date(b.date) - new Date(a.date)\n  );\n  let grouped = groupBy(sorted, \"date\");\n  Object.keys(grouped).forEach((date) => {\n    grouped[date] = grouped[date].sort(\n      (a, b) => new Date(b.transaction_timestamp) - new Date(a.transaction_timestamp)\n    );\n  });\n  return grouped;\n}","// src/db/transactionDb.js\n\nimport { createStore, set, get, del, keys } from \"idb-keyval\";\nimport { getTransactionCachekeys } from \"../utils\";\n\n// Create a function to get a user-specific store\nconst getUserStore = () => {\n  const { TRANSACTION_DB_NAME } = getTransactionCachekeys()\n  return createStore(TRANSACTION_DB_NAME, \"transactions-store\");\n};\n\nexport const storeTransactions = async (transactions) => {\n  const { LAST_TRANSACTION_FETCH } = getTransactionCachekeys()\n  const txStore = getUserStore();\n  for (const tx of transactions) {\n    await set(tx.id, tx, txStore);\n  }\n  localStorage.setItem(LAST_TRANSACTION_FETCH, Date.now());\n};\n\nexport const getAllTransactions = async () => {\n  const txStore = getUserStore();\n  const allKeys = await keys(txStore);\n  const allData = await Promise.all(allKeys.map((key) => get(key, txStore)));\n  return allData;\n};\n\nexport const clearTransactions = async () => {\n  const txStore = getUserStore();\n  const allKeys = await keys(txStore);\n  await Promise.all(allKeys.map((key) => del(key, txStore)));\n};\n\nexport const updateTransactionInDb = async (transaction) => {\n  const txStore = getUserStore();\n  await set(transaction.id, transaction, txStore);\n};\n\nexport const deleteTransactionInDb = async (id) => {\n  const txStore = getUserStore();\n  await del(id, txStore);\n};\n","// src/db/goalDb.js\n\nimport { get, set } from \"idb-keyval\";\n\nimport { fetchGoalsData } from \"../supabaseData\";\nimport { getGoalsCacheKey } from \"../utils\";\n\nexport const addGoal = async (goal) => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  const existing = (await get(GOALS_CACHE_KEY)) || [];\n  const updated = [...existing, goal];\n  await set(GOALS_CACHE_KEY, updated);\n};\n\nexport const updateGoal = async (updatedGoal) => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  const existing = (await get(GOALS_CACHE_KEY)) || [];\n  const updated = existing.map((g) =>\n    g.id === updatedGoal.id ? updatedGoal : g\n  );\n  await set(GOALS_CACHE_KEY, updated);\n};\n\nexport const deleteGoal = async (id) => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  const existing = (await get(GOALS_CACHE_KEY)) || [];\n  const updated = existing.filter((g) => g.id !== id);\n  await set(GOALS_CACHE_KEY, updated);\n};\n\nexport const getCachedGoals = async () => {\n  const { GOALS_CACHE_KEY } = getGoalsCacheKey();\n  let goals = await get(GOALS_CACHE_KEY);\n  if (!goals || !Array.isArray(goals)) {\n    goals = await fetchGoalsData();\n  }\n  return goals;\n}\n","// src/supabaseData.js\n\nimport { addBudget, deleteBudget, updateBudget } from \"./db/budgetDb\";\nimport { addGoal, deleteGoal, updateGoal } from \"./db/goalDb\";\nimport {\n  clearTransactions,\n  deleteTransactionInDb,\n  getAllTransactions,\n  storeTransactions,\n  updateTransactionInDb,\n} from \"./db/transactionDb\";\nimport { del, set } from \"idb-keyval\";\nimport { getGoalsCacheKey, getSupabaseUserIdFromLocalStorage } from \"./utils\";\n\nimport { supabase } from \"./supabaseClient\";\n\nexport const loadTransactionsFromSupabase = async () => {\n  const CHUNK_SIZE = 1000;\n  const userId = getSupabaseUserIdFromLocalStorage();\n  if (!userId) return [];\n  let allData = [];\n  let offset = 0;\n  let hasMore = true;\n\n  while (hasMore) {\n    const { data, error } = await supabase.rpc(\"get_user_transactions\", {\n      uid: userId,\n      search_term: \"\",\n      limit_count: CHUNK_SIZE,\n      offset_count: offset,\n    });\n\n    if (error) {\n      console.error(\"Error fetching transactions:\", error);\n      break;\n    }\n\n    if (data.length === 0) {\n      hasMore = false;\n      break;\n    }\n\n    allData = [...allData, ...data];\n    offset += CHUNK_SIZE;\n  }\n  await clearTransactions();\n  await storeTransactions(allData);\n  return allData;\n};\n\nexport const getMaxTransactionTimestamp = async () => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n  const { data, error } = await supabase\n    .from(\"transactions\")\n    .select(\"transaction_timestamp\")\n    .eq(\"user_id\", userId)\n    .order(\"transaction_timestamp\", { ascending: false })\n    .limit(1);\n\n  if (error) {\n    console.error(\"Error fetching max transaction timestamp:\", error);\n    return null;\n  }\n\n  return data.length > 0 ? data[0].transaction_timestamp : null;\n};\n\nexport const needsTransactionSync = async () => {\n  try {\n    const allTx = await getAllTransactions();\n    if (allTx.length < 1) {\n      return true; // no local data → needs sync\n    }\n\n    const maxLocalDate = new Date(\n      Math.max(\n        ...allTx.map((tx) => new Date(tx.transaction_timestamp).getTime())\n      )\n    );\n\n    const maxSupabaseDateStr = await getMaxTransactionTimestamp();\n    const maxSupabaseDate = maxSupabaseDateStr\n      ? new Date(maxSupabaseDateStr)\n      : null;\n\n    // If Supabase has no timestamp or local is behind, we need sync\n    if (!maxSupabaseDate || maxLocalDate < maxSupabaseDate) {\n      return true;\n    }\n\n    // If both are same or local is ahead, no sync needed\n    return false;\n  } catch (error) {\n    console.error(\"Error in needsTransactionSync:\", error);\n    return true; // safe default → try to sync\n  }\n};\n\nexport const updateTransaction = async (id, payload, options = {}) => {\n  const {\n    incomeCategories = [],\n    expenseCategories = [],\n    payees = [],\n  } = options;\n\n  const allCategories = [...incomeCategories, ...expenseCategories];\n  const category = allCategories.find((cat) => cat.id === payload.category_id);\n  const payee = payees.find((p) => p.id === payload.payee_id);\n\n  const updatedData = {\n    id,\n    amount: payload.amount,\n    description: payload.description,\n    transaction_timestamp: payload.transaction_timestamp,\n    category_id: payload.category_id,\n    category_name: category?.name || \"\",\n    category_icon: category?.icon || \"\",\n    payee_id: payload.payee_id || null,\n    payee_name: payee?.name || null,\n    payee_logo: payee?.logo || null,\n    type: category?.type || \"Expense\",\n    date: payload.transaction_timestamp.split(\"T\")[0],\n    product_link: payload.product_link || null,\n  };\n\n  // 1. Update in IndexedDB immediately\n  await updateTransactionInDb(updatedData);\n\n  // 2. Sync with Supabase (async, fire-and-forget pattern)\n  supabase\n    .from(\"transactions\")\n    .update(payload)\n    .eq(\"id\", id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase update failed:\", error);\n        // Optional: Retry logic or error handling here\n      }\n    });\n\n  return updatedData;\n};\n\nexport const deleteTransaction = async (id) => {\n  // 1. Delete from IndexedDB\n  await deleteTransactionInDb(id);\n\n  // 2. Sync delete with Supabase in background\n  supabase\n    .from(\"transactions\")\n    .delete()\n    .eq(\"id\", id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase delete failed:\", error);\n        // Optional: Retry logic or error handling here\n      }\n    });\n};\n\nexport const addTransaction = async (payload, options = {}) => {\n  const {\n    incomeCategories = [],\n    expenseCategories = [],\n    payees = [],\n  } = options;\n\n  const allCategories = [...incomeCategories, ...expenseCategories];\n  const category = allCategories.find((cat) => cat.id === payload.category_id);\n  const payee = payees.find((p) => p.id === payload.payee_id);\n\n  const newId = crypto.randomUUID();\n  const newTransaction = {\n    id: newId,\n    amount: payload.amount,\n    description: payload.description,\n    transaction_timestamp: payload.transaction_timestamp,\n    category_id: payload.category_id,\n    category_name: category?.name || \"\",\n    category_icon: category?.icon || \"\",\n    payee_id: payload.payee_id || null,\n    payee_name: payee?.name || null,\n    payee_logo: payee?.logo || null,\n    type: category?.type || \"Expense\",\n    date: payload.transaction_timestamp.split(\"T\")[0],\n    user_id: getSupabaseUserIdFromLocalStorage(),\n  };\n\n  // 1. Store in IndexedDB first\n  await updateTransactionInDb(newTransaction); // reuse update logic\n\n  // 2. Sync with Supabase in the background\n  supabase\n    .from(\"transactions\")\n    .insert([\n      {\n        id: newTransaction.id,\n        amount: newTransaction.amount,\n        description: newTransaction.description,\n        transaction_timestamp: newTransaction.transaction_timestamp,\n        category_id: newTransaction.category_id,\n        payee_id: newTransaction.payee_id,\n        type: newTransaction.type,\n        user_id: newTransaction.user_id,\n      },\n    ])\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase insert failed:\", error);\n      }\n    });\n\n  return newTransaction;\n};\n\nexport const fetchGoalsData = async () => {\n  const { GOALS_CACHE_KEY, GOALS_EXPIRY_KEY } = getGoalsCacheKey();\n  const { data, error } = await supabase.from(\"goals\").select(\"*\");\n  if (error) console.error(\"Error fetching goals:\", error);\n  else {\n    localStorage.setItem(GOALS_EXPIRY_KEY, Date.now());\n    await del(GOALS_CACHE_KEY);\n    await set(GOALS_CACHE_KEY, data);\n    return data;\n  }\n};\n\nexport const addGoalInDb = async (payload) => {\n  const id = crypto.randomUUID();\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  const goal = {\n    id,\n    user_id: userId,\n    name: payload.name,\n    logo: payload.logo,\n    goal_amount: parseFloat(payload.goal_amount),\n    current_amount: parseFloat(payload.current_amount) || 0,\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  };\n\n  // 1. Add to IndexedDB\n  await addGoal(goal);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"goals\")\n    .insert([goal])\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase insert failed:\", error);\n      }\n    });\n\n  return goal;\n};\n\nexport const updateGoalInDb = async (goal) => {\n  const updated = {\n    ...goal,\n    updated_at: new Date().toISOString(),\n  };\n\n  // 1. Update in IndexedDB\n  await updateGoal(updated);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"goals\")\n    .update(updated)\n    .eq(\"id\", goal.id)\n    .eq(\"user_id\", goal.user_id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase update failed:\", error);\n      }\n    });\n\n  return updated;\n};\n\nexport const deleteGoalInDb = async (id) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  // 1. Delete from IndexedDB\n  await deleteGoal(id);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"goals\")\n    .delete()\n    .eq(\"id\", id)\n    .eq(\"user_id\", userId)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase delete failed:\", error);\n      }\n    });\n};\n\nexport const fetchBudgetsData = async () => {\n  const BUDGETS_CACHE_KEY = \"budgets_cache\";\n  const { data, error } = await supabase.from(\"budgets\").select(\"*\");\n  if (error) console.error(\"Error fetching budgets:\", error);\n  else {\n    await del(BUDGETS_CACHE_KEY);\n    await set(BUDGETS_CACHE_KEY, data);\n    return data;\n  }\n};\n\nexport const addBudgetInDb = async (payload) => {\n  const id = crypto.randomUUID();\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  const budget = {\n    id,\n    user_id: userId,\n    name: payload.name,\n    amount: payload.amount,\n    interval: payload.interval,\n    start_date: payload.start_date,\n    categories: payload.categories,\n    logo: payload.logo,\n    created_at: new Date().toISOString(),\n  };\n\n  // 1. Add to IndexedDB\n  await addBudget(budget);\n\n  // 2. Sync to Supabase\n  supabase\n    .from(\"budgets\")\n    .insert([budget])\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase insert failed:\", error);\n      }\n    });\n\n  return budget;\n};\n\nexport const updateBudgetInDb = async (budget) => {\n  await updateBudget({\n    ...budget,\n    updated_at: new Date().toISOString(),\n  });\n\n  supabase\n    .from(\"budgets\")\n    .update(budget)\n    .eq(\"id\", budget.id)\n    .eq(\"user_id\", budget.user_id)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase update failed:\", error);\n      }\n    });\n\n  return {\n    ...budget,\n    updated_at: new Date().toISOString(),\n  };\n};\n\nexport const deleteBudgetInDb = async (id) => {\n  const userId = getSupabaseUserIdFromLocalStorage();\n\n  // 1. Delete from IndexedDB\n  await deleteBudget(id);\n\n  // 2. Sync with Supabase\n  supabase\n    .from(\"budgets\")\n    .delete()\n    .eq(\"id\", id)\n    .eq(\"user_id\", userId)\n    .then(({ error }) => {\n      if (error) {\n        console.error(\"Supabase delete failed:\", error);\n      }\n    });\n};\n"],"names":["_ref","title","showRefreshButton","onRefresh","disabled","onBack","_jsxs","className","children","onClick","_jsx","role","IoIosArrowBack","FiRefreshCw","loading","PageHeader","undefined","Loading","_Fragment","BUDGETS_KEY","addBudget","async","existing","get","set","budget","error","console","log","updateBudget","updated","map","b","id","updatedBudget","deleteBudget","filtered","filter","getCachedBudgets","force","arguments","length","budgets","Array","isArray","fetchBudgetsData","getCachedBudgetAmountMap","forceBudgets","budget_amount_map","lastFetched","localStorage","getItem","freshDataRequired","Date","now","budget_categories","flatMap","categories","filteredTx","getAllTransactions","tx","type","includes","category_id","emptyMap","sorted","sort","a","date","minDate","maxDate","budgetAmountMap","current","getFullYear","getMonth","year","month","categoryId","setMonth","key","amount","Object","keys","forEach","parseFloat","toFixed","setItem","MY_KEYS","formatIndianNumber","num","isNaN","isNegative","formatted","Math","abs","toLocaleString","getRelativeTime","timestamp","diff","mins","floor","hours","days","calculatePayDayInfo","today","currentDay","getDate","daysInMonth","remainingDays","remainingDaysPercentage","days_in_month","remaining_days","remaining_days_percentage","Number","formatDateToDayMonthYear","input","format","getMonthOptions","currentYear","currentMonth","slice","label","value","getYearOptions","startYear","years","push","getTopCategoryColors","count","getSupabaseUserIdFromLocalStorage","i","endsWith","_session$user","session","JSON","parse","userId","user","renderIcon","iconName","size","Icon","MdIcons","formatTimestamp","refreshGoalsCache","CACHE_KEY","lastFetch","isExpired","fetchGoalsData","getGoalsCacheKey","GOALS_CACHE_KEY","GOALS_EXPIRY_KEY","getCategoryCachekeys","INCOME_CACHE_KEY","EXPENSE_CACHE_KEY","CHOOSEN_CATEGORIES_CACHE_KEY","getPayeeCacheKey","PAYEE_CACHE_KEY","getTransactionCachekeys","LAST_TRANSACTION_FETCH","TRANSACTION_DB_NAME","groupAndSortTransactions","transactions","grouped","groupBy","transaction_timestamp","getUserStore","createStore","storeTransactions","txStore","allKeys","Promise","all","clearTransactions","del","updateTransactionInDb","transaction","deleteTransactionInDb","addGoal","goal","updateGoal","g","updatedGoal","deleteGoal","getCachedGoals","goals","loadTransactionsFromSupabase","allData","offset","hasMore","data","supabase","rpc","uid","search_term","limit_count","offset_count","needsTransactionSync","allTx","maxLocalDate","max","getTime","maxSupabaseDateStr","from","select","eq","order","ascending","limit","getMaxTransactionTimestamp","maxSupabaseDate","updateTransaction","payload","options","incomeCategories","expenseCategories","payees","category","find","cat","payee","p","payee_id","updatedData","description","category_name","name","category_icon","icon","payee_name","payee_logo","logo","split","product_link","update","then","deleteTransaction","delete","_ref2","addTransaction","newTransaction","crypto","randomUUID","user_id","insert","_ref3","addGoalInDb","goal_amount","current_amount","created_at","toISOString","updated_at","_ref4","updateGoalInDb","_ref5","deleteGoalInDb","_ref6","BUDGETS_CACHE_KEY","addBudgetInDb","interval","start_date","_ref7","updateBudgetInDb","_ref8","deleteBudgetInDb","_ref9"],"sourceRoot":""}