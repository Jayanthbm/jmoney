"use strict";(self.webpackChunkjmoney=self.webpackChunkjmoney||[]).push([[984],{1305:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(5043),s=a(5843),n=a(579);const l=e=>{let{value:t=0,color:a="#3ecf8e",height:l="10px"}=e;const r=(0,i.useRef)(null),{ref:o,inView:d}=(0,s.Wx)();return(0,i.useEffect)((()=>{if(d&&r.current){const e=`${Math.min(t,100)}%`;r.current.style.width=e,r.current.classList.add("animate")}}),[d,t]),(0,i.useEffect)((()=>{r.current&&!d&&(r.current.style.width="0%",r.current.classList.remove("animate"))}),[d]),(0,n.jsx)("div",{className:"progress-bar-container",ref:o,style:{height:l},children:(0,n.jsx)("div",{className:"progress-bar-fill",ref:r,style:{backgroundColor:a}})})}},1486:(e,t,a)=>{a.d(t,{A:()=>n});var i=a(5410),s=a(579);const n=e=>{let{options:t,value:a,onChange:n,isDisabled:l=!1,isMulti:r=!1,placeholder:o="",isSearchable:d=!1}=e;return(0,s.jsx)(i.Ay,{className:"react-select-container",classNamePrefix:"react-select",options:t,value:a,onChange:n,isDisabled:l,isMulti:r,placeholder:o,isSearchable:d})}},1794:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(6756),s=(a(5043),a(184)),n=a(579);const l=e=>{let{transaction:t,onCardClick:a=()=>{}}=e;const{amount:l,category_name:r,category_icon:o,description:d,payee_name:c,payee_logo:m,type:v,transaction_timestamp:u,percentage:h=null,product_link:x=null}=t;return(0,n.jsxs)("div",{className:"transaction-card",onClick:a,children:[(0,n.jsxs)("div",{className:"transaction-left",children:[(0,n.jsx)("div",{className:"transaction-icon "+("Expense"===v?"expense":"income"),children:(0,i.sH)(o)}),(0,n.jsxs)("div",{className:"transaction-details",children:[(0,n.jsx)("div",{className:"category-name",children:r}),d&&(0,n.jsx)("div",{className:"description",children:d}),u&&(0,n.jsx)("div",{className:"timestamp",children:(0,i.Ey)(u)}),(0,n.jsx)("div",{className:"payee-info",children:(m||x)&&(0,n.jsxs)(n.Fragment,{children:[m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:m,alt:c,className:"transaction-payee-logo"}),(0,n.jsx)("span",{className:"transaction-payee-name",children:c})]}),x&&(0,n.jsx)("a",{href:x,target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",cursor:"pointer"},onClick:e=>e.stopPropagation(),children:(0,n.jsx)(s.EQc,{size:14,color:"#007bff",title:"Product Link"})})]})})]})]}),(0,n.jsxs)("div",{className:"transaction-amount-section",children:[(0,n.jsx)("div",{className:"transaction-amount "+("Expense"===v?"expense":"income"),children:(0,i.mC)(Number(l))}),null!==h&&(0,n.jsxs)("div",{className:"transaction-percentage",children:[h,"%"]})]})]})}},1811:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var i=a(5043),s=a(4912),n=a(3695),l=a(8344),r=a(3621),o=a(9992),d=a(2024),c=a(9984),m=a(6908),v=a(6756),u=a(2771),h=a(6380),x=a(579);const g=e=>{let{data:t,loading:a}=e;const i=(0,u.A)(),s=`Limit: ${(0,v.mC)(null===t||void 0===t?void 0:t.daily_limit)}`;return(0,x.jsx)(m.A,{title:"Daily Limit",subtitle:s,children:(0,x.jsx)("div",{className:"daily-limit-container",children:a?(0,x.jsx)(h.A,{count:2,keyName:"daily-limit"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"daily-limit-section",children:(null===t||void 0===t?void 0:t.remaining_percentage)>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"daily-limit-label",children:"REMAINING"}),(0,x.jsx)("div",{className:"daily-limit-value green-text",children:(0,v.mC)((null===t||void 0===t?void 0:t.remaining)||0)})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"daily-limit-label",children:"OVERSPENT"}),(0,x.jsx)("div",{className:"daily-limit-value red-text",children:(0,v.mC)(((null===t||void 0===t?void 0:t.spent)||0)-((null===t||void 0===t?void 0:t.daily_limit)||0))})]})}),(0,x.jsx)("div",{className:"divider"}),(0,x.jsxs)("div",{className:"daily-limit-section",children:[(0,x.jsx)("div",{className:"daily-limit-label",children:"SPENT"}),(0,x.jsx)("div",{className:"daily-limit-value red-text",children:(0,v.mC)((null===t||void 0===t?void 0:t.spent)||0)})]}),(0,x.jsx)("div",{className:"daily-limit-section progress-section",children:(0,x.jsx)(c.A,{size:70,progress:(null===t||void 0===t?void 0:t.remaining_percentage)>0?t.remaining_percentage:100,text:(null===t||void 0===t?void 0:t.remaining_percentage)>0?`${t.remaining_percentage}%`:"\u26a0\ufe0e",pathColor:(null===t||void 0===t?void 0:t.remaining_percentage)>0?"#3ecf8e":"#ef4444",fontSize:(null===t||void 0===t?void 0:t.remaining_percentage)<0?"1.1rem":"0.8rem",textColor:(null===t||void 0===t?void 0:t.remaining_percentage)<0?"#ef4444":"dark"===i?"#f1f1f1":"#374151"})})]})})})},p=i.memo(g);var j=a(6405),y=a(4624),N=a(1794),f=a(7077);const w=e=>{let{dailyLimitData:t,title:a,onBack:s}=e;const[n,r]=(0,i.useState)([]),[o,g]=(0,i.useState)(!0),p=(0,u.A)();return(0,i.useEffect)((()=>{(async()=>{g(!0);let e=(await(0,f.r2)()).filter((e=>"Expense"===e.type&&(0,l.c)(new Date(e.date))));e=e.sort(((e,t)=>new Date(t.transaction_timestamp)-new Date(e.transaction_timestamp))),r(e),g(!1)})()}),[]),(0,x.jsx)(d.A,{title:a,onBack:s,children:(0,x.jsxs)("div",{className:"daily-limit-view",children:[(0,x.jsx)("div",{className:"overview-card-wrapper",children:(0,x.jsx)(m.A,{title:"Daily Limit",subtitle:`Limit: ${(0,v.mC)(null===t||void 0===t?void 0:t.daily_limit)}`,children:(0,x.jsxs)("div",{className:"daily-limit-container",children:[(0,x.jsx)("div",{className:"daily-limit-section",children:(null===t||void 0===t?void 0:t.remaining_percentage)>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"daily-limit-label",children:"REMAINING"}),(0,x.jsx)("div",{className:"daily-limit-value green-text",children:(0,v.mC)((null===t||void 0===t?void 0:t.remaining)||0)})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"daily-limit-label",children:"OVERSPENT"}),(0,x.jsx)("div",{className:"daily-limit-value red-text",children:(0,v.mC)((null===t||void 0===t?void 0:t.spent)-t.daily_limit)})]})}),(0,x.jsx)("div",{className:"divider"}),(0,x.jsxs)("div",{className:"daily-limit-section",children:[(0,x.jsx)("div",{className:"daily-limit-label",children:"SPENT"}),(0,x.jsx)("div",{className:"daily-limit-value red-text",children:(0,v.mC)((null===t||void 0===t?void 0:t.spent)||0)})]}),(0,x.jsx)("div",{className:"daily-limit-section progress-section",children:(0,x.jsx)(c.A,{progress:(null===t||void 0===t?void 0:t.remaining_percentage)>0?t.remaining_percentage:100,text:(null===t||void 0===t?void 0:t.remaining_percentage)>0?`${t.remaining_percentage}%`:"\u26a0\ufe0e",pathColor:(null===t||void 0===t?void 0:t.remaining_percentage)>0?"#3ecf8e":"#ef4444",fontSize:(null===t||void 0===t?void 0:t.remaining_percentage)<0?"1.5rem":"1rem",textColor:(null===t||void 0===t?void 0:t.remaining_percentage)<0?"#ef4444":"dark"===p?"#f1f1f1":"#374151"})})]})})}),(0,x.jsxs)("div",{className:"transaction-list-wrapper",children:[(0,x.jsx)("div",{className:"date-summary-bar",children:(0,x.jsx)("div",{className:"summary-date",children:"Today"})}),o?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.A,{}),(0,x.jsx)(h.A,{count:3,keyName:"daily-limit-view",height:70})]}):0===(null===n||void 0===n?void 0:n.length)?(0,x.jsx)(y.A,{message:"No expenses today",height:"150",width:"150"}):(0,x.jsx)(x.Fragment,{children:null===n||void 0===n?void 0:n.map((e=>(0,x.jsx)(N.A,{transaction:e},e.id)))})]})]})})};var b=a(5533);const A=e=>{let{data:t}=e;const a=(0,u.A)(),i=(null===t||void 0===t?void 0:t.days_in_month)||30,s=(null===t||void 0===t?void 0:t.today)||0,n=(null===t||void 0===t?void 0:t.remaining_days_percentage)||0,l=(null===t||void 0===t?void 0:t.remaining_days)||0;return(0,x.jsx)(m.A,{title:"Pay Day",subtitle:"Days until next salary",children:(0,x.jsxs)("div",{className:"payday-container",children:[(0,x.jsxs)("div",{className:"payday-info",children:[(0,x.jsx)("div",{className:"payday-date",children:(null===t||void 0===t?void 0:t.date)||""}),(0,x.jsx)("div",{className:"dot-grid",children:Array.from({length:i}).map(((e,t)=>(0,x.jsx)("div",{className:"dot "+(t+1<s?"dot-past":"dot-future")},t)))})]}),(0,x.jsx)("div",{className:"payday-progress",children:(0,x.jsx)(c.A,{progress:100-n,text:`${l}`,subtext:"DAYS",pathColor:"#139af5",textColor:"dark"===a?"#5d9bff":"#2c6c99"})})]})})},S=i.memo(A);a(6097);var F=a(8861),C=a(1003),_=a(6720),k=a(6465),D=a(9657);const M=e=>{let{title:t,onBack:a}=e;const s=(0,D.Ub)({maxWidth:768}),[n,l]=(0,i.useState)(!0),[r,o]=(0,i.useState)(new Date),[c,m]=(0,i.useState)(new Date),[u,g]=(0,i.useState)([]),[p,w]=(0,i.useState)(null),b=new Date;(0,i.useEffect)((()=>{(async()=>{l(!0);const e=await(0,f.r2)();if(e.length>0){const t=e.sort(((e,t)=>new Date(e.date)-new Date(t.date)));w(new Date(t[0].date))}const t=e.filter((e=>(0,k.r)(new Date(e.date),r))).sort(((e,t)=>new Date(t.transaction_timestamp)-new Date(e.transaction_timestamp)));g(t),l(!1)})()}),[r]);const A=u.filter((e=>"Income"===e.type)).reduce(((e,t)=>e+t.amount),0)-u.filter((e=>"Expense"===e.type)).reduce(((e,t)=>e+t.amount),0);return(0,x.jsxs)(d.A,{title:t,onBack:a,children:[(0,x.jsx)("div",{className:"align-right",children:!(0,k.r)(r,b)&&(0,x.jsx)(F.A,{onClick:()=>{o(b),m(b)},text:s?null:"Today",icon:(0,x.jsx)(_.MdToday,{})})}),(0,x.jsx)("div",{className:"calendar-wrapper",children:(0,x.jsx)(C.Ay,{value:r,onChange:e=>o(e),minDate:p,maxDate:b,activeStartDate:c,onActiveStartDateChange:e=>{let{activeStartDate:t}=e;return m(t)}})}),(0,x.jsxs)("div",{className:"date-summary-bar",children:[(0,x.jsx)("div",{className:"summary-date",children:(0,v.Qm)(r)}),(null===u||void 0===u?void 0:u.length)>0&&(0,x.jsx)("div",{className:"summary-amount",children:(0,v.mC)(A)})]}),(0,x.jsx)("div",{className:"transaction-list-wrapper",children:n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.A,{}),(0,x.jsx)(h.A,{count:1,keyName:"payday-view",height:70})]}):0===(null===u||void 0===u?void 0:u.length)?(0,x.jsx)(y.A,{message:"No transactions on this date",height:"100",width:"150"}):null===u||void 0===u?void 0:u.map((e=>(0,x.jsx)(N.A,{transaction:e},e.id)))})]})};var E=a(1305);const $=e=>{let{data:t,loading:a}=e;return(0,x.jsx)(m.A,{title:"Remaining for Period",subtitle:(null===t||void 0===t?void 0:t.period)||"",customStyles:{cursor:"default"},children:a?(0,x.jsx)(h.A,{count:2,keyName:"remaining-for-period"}):(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"big-income-text",children:(0,x.jsx)(b.A,{end:(null===t||void 0===t?void 0:t.remaining)||0})}),(0,x.jsx)(E.A,{value:(null===t||void 0===t?void 0:t.spent_percentage)||0,color:"#3ecf8e"})]})})},L=i.memo($),z="#f87171",I=e=>{let{title:t,subtitle:a,income:i,expense:s,percentage:n,onClick:l,loading:r}=e;const o=(0,u.A)();return(0,x.jsx)("div",{className:"overview-card-wrapper",onClick:l,children:(0,x.jsx)(m.A,{title:t,subtitle:a,children:r?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"top-categories-donut",children:[(0,x.jsx)("div",{className:"category-labels",children:(0,x.jsx)(h.A,{count:2,keyName:"stat-card"})}),(0,x.jsx)("div",{className:"category-donut-chart",children:(0,x.jsx)(h.A,{count:1,keyName:"stat-card-donut",variant:"circular",width:"100%",height:"100%"})})]})}):(0,x.jsxs)("div",{className:"stat-card-container",children:[(0,x.jsxs)("div",{className:"stat-card-numbers",children:[(0,x.jsxs)("div",{className:"stat-row",children:[(0,x.jsx)("div",{className:"stat-amount red-text",children:(0,v.mC)(s)}),(0,x.jsx)("div",{className:"stat-label",children:"EXPENSE"})]}),(0,x.jsxs)("div",{className:"stat-row",children:[(0,x.jsx)("div",{className:"stat-amount green-text",children:(0,v.mC)(i)}),(0,x.jsx)("div",{className:"stat-label",children:"INCOME"})]})]}),(0,x.jsx)("div",{className:"stat-chart",children:(0,x.jsx)(c.A,{progress:Math.round(n),text:`${Math.round(n)}%`,subtext:"spent",pathColor:z,textColor:"dark"===o?"#f1f1f1":"#374151"})})]})})})};var O=a(8515);const Y=e=>e*Math.PI/180,B=e=>{let{data:t,colors:a,radius:i=45,strokeWidth:s=10,size:n=100}=e;const l=null===t||void 0===t?void 0:t.reduce(((e,t)=>e+t.value),0);let r=0;return(0,x.jsx)("svg",{viewBox:`0 0 ${n} ${n}`,width:"100%",height:"100%",children:null===t||void 0===t?void 0:t.map(((e,t)=>{const o=e.value/l,d=360*o,c=r,m=r+d;r+=d;const v=((e,t,a,i,s)=>`M ${e+a*Math.cos(Y(i))} ${t+a*Math.sin(Y(i))}\n          A ${a} ${a} 0 ${s-i<=180?"0":"1"} 1 ${e+a*Math.cos(Y(s))} ${t+a*Math.sin(Y(s))}`)(n/2,n/2,i,c-90,m-90);return(0,x.jsx)("path",{d:v,fill:"none",strokeWidth:s,strokeDasharray:`${(2*o*Math.PI*i).toFixed(6)}`,strokeDashoffset:"0",strokeLinecap:"round",stroke:a[t],style:{transition:"stroke-dashoffset 500ms ease-out"},children:(0,x.jsx)("title",{children:e.label})},t)}))})},V=["#3b82f6","#10b981","#9ca3af"],P=e=>{var t;let{data:a,loading:i}=e;const s=(null===a||void 0===a?void 0:a.topCategories)||[],n=(null===a||void 0===a||null===(t=a.remainingForPeriod)||void 0===t?void 0:t.period)||"";return(0,x.jsx)(m.A,{title:"Top Categories",subtitle:n,children:i?(0,x.jsxs)("div",{className:"top-categories-donut",children:[(0,x.jsx)("div",{className:"category-labels",children:(0,x.jsx)(h.A,{count:3,keyName:"top-categories"})}),(0,x.jsx)("div",{className:"category-donut-chart",children:(0,x.jsx)(h.A,{count:1,keyName:"top-categories",variant:"circular",width:"100%",height:"100%"})})]}):(0,x.jsx)(x.Fragment,{children:s.length>0?(0,x.jsxs)("div",{className:"top-categories-donut",children:[(0,x.jsx)("div",{className:"category-labels",children:s.map(((e,t)=>(0,x.jsxs)("div",{className:"category-label-item",children:[(0,x.jsx)("span",{className:"category-dot",style:{backgroundColor:V[t]}}),(0,x.jsxs)("div",{className:"category-text",children:[(0,x.jsx)("div",{className:"category-name",children:e.name}),(0,x.jsxs)("div",{className:"category-value",children:[(0,v.mC)((null===e||void 0===e?void 0:e.amount)||0)," |"," ",(null===e||void 0===e?void 0:e.percentage)||0,"%"]})]})]},t)))}),(0,x.jsx)("div",{className:"category-donut-chart",children:(0,x.jsx)(B,{data:s.map((e=>({value:null===e||void 0===e?void 0:e.percentage}))),colors:V})})]}):(0,x.jsx)(y.A,{message:"No data available",height:"100",width:"150"})})})},T=i.memo(P);var W=a(3156);const{LAST_TRANSACTION_FETCH:H}=(0,v.RW)(),R=()=>{var e,t,a,c,u,g,j,y,N;const[A,F]=(0,i.useState)(null),[C,k]=(0,i.useState)(!0),[D,E]=(0,i.useState)("Overview"),[$,z]=(0,i.useState)(!1),[Y,B]=(0,i.useState)(!1),V=e=>{const t=new Date,a=(0,s.w)(t),i=(0,n.p)(t),o=e=>e.reduce(((e,t)=>e+t.amount),0),d=o(e.filter((e=>"Income"===e.type&&new Date(e.date)>=a&&new Date(e.date)<=i))),c=e.filter((e=>"Expense"===e.type&&new Date(e.date)>=a&&new Date(e.date)<=i)),m=o(c),u={period:`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear().toString().slice(2)} - ${i.getDate().toString().padStart(2,"0")}/${(i.getMonth()+1).toString().padStart(2,"0")}/${i.getFullYear().toString().slice(2)}`,remaining:parseFloat((d-m).toFixed(2)),spent_percentage:0===d?0:parseFloat((m/d*100).toFixed(0))},h=o(e.filter((e=>"Expense"===e.type&&(0,l.c)(new Date(e.date))))),x=Math.floor((i-t)/864e5)+1,g=x>0?(d-m+h)/x:0,p=g-h,j={daily_limit:parseFloat(g.toFixed(2)),spent:parseFloat(h.toFixed(2)),remaining:parseFloat(p.toFixed(2)),remaining_percentage:0===g?0:parseFloat((p/g*100).toFixed(2))},y={};c.forEach((e=>{y[e.category_name]||(y[e.category_name]=0),y[e.category_name]+=e.amount}));const N=Object.entries(y).map((e=>{let[t,a]=e;return{name:t,amount:a}})).sort(((e,t)=>t.amount-e.amount)),f=N.slice(0,2),w=o(N.slice(2)),b=[...f,...w>0?[{name:"Other",amount:w}]:[]].map((e=>({...e,percentage:0===m?0:parseFloat((e.amount/m*100).toFixed(2)),period:`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear().toString().slice(2)} - ${i.getDate().toString().padStart(2,"0")}/${(i.getMonth()+1).toString().padStart(2,"0")}/${i.getFullYear().toString().slice(2)}`}))),A={period:`${t.toLocaleString("default",{month:"long"})} ${t.getFullYear()}`,income:parseFloat(d.toFixed(2)),expense:parseFloat(m.toFixed(2)),spent_percentage:parseFloat((m/d*100).toFixed(2))},S=e.filter((e=>"Income"===e.type&&(0,r.e)(new Date(e.date)))),C=e.filter((e=>"Expense"===e.type&&(0,r.e)(new Date(e.date)))),_=o(S),k=o(C),D={period:t.getFullYear(),income:parseFloat(_.toFixed(2)),expense:parseFloat(k.toFixed(2)),spent_percentage:parseFloat((k/_*100).toFixed(2))},M={amount:parseFloat(e.reduce(((e,t)=>"Income"===t.type?e+t.amount:e-t.amount),0).toFixed(3))},E=(0,v.Hw)();F({remainingForPeriod:u,dailyLimit:j,topCategories:b,current_month:A,current_year:D,networth:M,payDay:E})},P=(0,i.useCallback)((async()=>{k(!0);const e=await(0,f.r2)();return V(e),k(!1),z(!0),!0}),[]);(0,i.useEffect)((()=>{P()}),[P]),(0,i.useEffect)((()=>{$&&(B(!0),async function(){if(await(0,o.Js)()){const e=await(0,o._r)();localStorage.setItem(H,Date.now()),V(e)}}().then((()=>B(!1))))}),[$]);const[R,G]=(0,i.useState)("overview"),Q=()=>{G("overview"),E("Overview")};return(0,x.jsxs)(x.Fragment,{children:["overview"===R&&(0,x.jsxs)(d.A,{title:D,onBack:"overview"!==R?()=>{G("overview"),E("Overview")}:null,children:[(0,x.jsx)("div",{className:"sync-status",children:(0,x.jsx)("small",{className:"sync-time",children:Y?(0,x.jsxs)("span",{style:{display:"flex",gap:5},children:[(0,x.jsx)(_.MdSync,{className:"syncing-icon"}),"Syncing"]}):(0,x.jsxs)("span",{style:{display:"flex",gap:5},children:[(0,x.jsx)(W.cxC,{}),"Synced"]})})}),(0,x.jsxs)("div",{className:"overview-container",children:[(0,x.jsx)("div",{className:"overview-card-wrapper",children:(0,x.jsx)(L,{data:null===A||void 0===A?void 0:A.remainingForPeriod,loading:C})}),(0,x.jsx)("div",{className:"overview-card-wrapper",onClick:()=>{G("dailyLimit"),E("Daily Limit")},children:(0,x.jsx)(p,{data:null===A||void 0===A?void 0:A.dailyLimit,loading:C})}),(0,x.jsx)("div",{className:"overview-card-wrapper",onClick:()=>{G("payDay"),E("Calendar View")},children:(0,x.jsx)(S,{data:null===A||void 0===A?void 0:A.payDay})}),(0,x.jsx)("div",{className:"overview-card-wrapper",onClick:()=>{var e;(null===A||void 0===A||null===(e=A.topCategories)||void 0===e?void 0:e.length)>0&&(G("topCategories"),E("Top Categories"))},children:(0,x.jsx)(T,{data:A,loading:C})}),(0,x.jsx)(I,{title:"This Month",subtitle:null===A||void 0===A||null===(e=A.current_month)||void 0===e?void 0:e.period,expense:null===A||void 0===A||null===(t=A.current_month)||void 0===t?void 0:t.expense,income:null===A||void 0===A||null===(a=A.current_month)||void 0===a?void 0:a.income,percentage:null===A||void 0===A||null===(c=A.current_month)||void 0===c?void 0:c.spent_percentage,onClick:()=>{G("thisMonth"),E("Summary For Month")},loading:C}),(0,x.jsx)(I,{title:"Current Year",subtitle:null===A||void 0===A||null===(u=A.current_year)||void 0===u?void 0:u.period,expense:null===A||void 0===A||null===(g=A.current_year)||void 0===g?void 0:g.expense,income:null===A||void 0===A||null===(j=A.current_year)||void 0===j?void 0:j.income,percentage:null===A||void 0===A||null===(y=A.current_year)||void 0===y?void 0:y.spent_percentage,onClick:()=>{G("currentYear"),E("Summary For Year")},loading:C}),(0,x.jsx)("div",{className:"overview-card-wrapper",children:(0,x.jsx)(m.A,{title:"Net Worth",subtitle:"ALL TIME",customStyles:{cursor:"default"},children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"big-income-text",children:C?(0,x.jsx)(h.A,{count:1,keyName:"networth"}):(0,x.jsx)(b.A,{end:(null===A||void 0===A||null===(N=A.networth)||void 0===N?void 0:N.amount)||0})})})})})]})]}),"dailyLimit"===R&&(0,x.jsx)(w,{dailyLimitData:null===A||void 0===A?void 0:A.dailyLimit,title:D,onBack:Q}),"payDay"===R&&(0,x.jsx)(M,{title:D,onBack:Q}),("topCategories"===R||"thisMonth"===R||"currentYear"===R)&&(0,x.jsx)(O.A,{title:D,onBack:Q,showMonthSelect:"currentYear"!==R})]})}},2771:(e,t,a)=>{a.d(t,{A:()=>s});var i=a(5043);const s=()=>{const[e,t]=(0,i.useState)(document.documentElement.getAttribute("data-theme")||"light");return(0,i.useEffect)((()=>{const e=new MutationObserver((()=>{const e=document.documentElement.getAttribute("data-theme");t(e||"light")}));return e.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>e.disconnect()}),[]),e}},2916:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(6756),s=a(4624),n=(a(5043),a(1794)),l=a(579);const r=e=>{var t,a;let{name:r,amount:o,transactions:d}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"date-summary-bar",children:[(0,l.jsx)("div",{style:{display:"flex"},children:r?(0,l.jsx)("div",{className:"summary-date",children:r}):(0,l.jsx)(l.Fragment,{})}),o?(0,l.jsx)("div",{className:"summary-amount",children:(0,i.mC)(o)}):(0,l.jsx)(l.Fragment,{})]}),d&&(0,l.jsxs)("div",{className:"transaction-page-wrapper",children:[null===Object||void 0===Object||null===(t=Object.entries(d))||void 0===t?void 0:t.map((e=>{let[t,a]=e;return(0,l.jsxs)("div",{className:"transaction-group",children:[(0,l.jsx)("h2",{className:"transaction-date-header",children:(0,i.Qm)(t)}),(0,l.jsx)("div",{className:"transaction-card-list",children:null===a||void 0===a?void 0:a.map((e=>(0,l.jsx)(n.A,{transaction:e},e.id)))})]},t)})),0===(null===Object||void 0===Object||null===(a=Object.entries(d))||void 0===a?void 0:a.length)&&(0,l.jsx)(s.A,{message:"No transactions"})]})]})}},4624:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);var i=a(579);const s=e=>{let{message:t="No data",height:a=150,width:s=150,children:n}=e;return(0,i.jsxs)("div",{className:"no-data-card",children:[(0,i.jsx)("div",{className:"no-data-image",children:(0,i.jsxs)("svg",{width:s,height:a,viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:"No data"}),(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,i.jsx)("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,i.jsx)("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),(0,i.jsx)("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),(0,i.jsx)("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),(0,i.jsx)("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})]}),(0,i.jsx)("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),(0,i.jsxs)("g",{transform:"translate(149.65 15.383)",fill:"#FFF",children:[(0,i.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,i.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})]})}),(0,i.jsxs)("div",{className:"no-data-description",children:[t,n]})]})}},4770:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(6756),s=a(1486),n=(a(5043),a(579));const l=e=>{let{showYear:t=!0,showMonth:a=!0,yearValue:l,onYearChange:r,monthValue:o,onMonthChange:d,disabled:c}=e;return(0,n.jsxs)("div",{className:"filters-wrapper",children:[t&&(0,n.jsx)(s.A,{options:(0,i.gD)(),value:l,onChange:r,isDisabled:c}),a&&(0,n.jsx)(s.A,{options:(0,i.Ly)(l.value),value:o,onChange:d,isDisabled:c})]})}},5533:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(5751),s=a(6756),n=a(579);const l=e=>{let{end:t}=e;return(0,n.jsx)(i.Ay,{end:t,duration:1.5,formattingFn:s.mC})}},6380:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);var i=a(579);const s=e=>{let{variant:t="text",width:a,height:s,className:n="",count:l=1,style:r={}}=e;const o=Array.from({length:l});return(0,i.jsx)(i.Fragment,{children:o.map(((e,l)=>{const o=`skeleton skeleton-${t} ${n}`,d={width:a,height:s,...r};return(0,i.jsx)("div",{className:o,style:d,"data-testid":"skeleton-loader"},l)}))})}},6405:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);var i=a(579);const s=e=>{let{text:t="Loading Transactions..."}=e;return(0,i.jsxs)("div",{className:"inline-loader",children:[(0,i.jsx)("div",{className:"spinner"}),(0,i.jsx)("span",{className:"loader-text",children:t})]})}},6908:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);var i=a(579);const s=e=>{let{title:t,subtitle:a,children:s,customStyles:n={}}=e;return(0,i.jsxs)("div",{className:"overview-card",style:n,children:[(0,i.jsxs)("div",{className:"overview-card-header",children:[(0,i.jsx)("h2",{className:"overview-card-title",children:t}),(0,i.jsx)("p",{className:"overview-card-subtitle",children:a})]}),(0,i.jsx)("div",{className:"overview-card-body",children:s})]})}},8515:(e,t,a)=>{a.d(t,{A:()=>w});var i=a(184),s=a(5043),n=a(6756),l=a(2024),r=a(8861),o=a(1180),d=a(6992),c=a(6102),m=a(7869),v=a(379),u=a(579);const h=e=>{let{data:t,colors:a}=e;return(0,u.jsx)(o.u,{width:"100%",height:250,children:(0,u.jsxs)(d.r,{children:[(0,u.jsx)(c.Fq,{data:t,dataKey:"value",nameKey:"name",innerRadius:60,outerRadius:100,paddingAngle:3,label:!1,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,u.jsx)(m.f,{fill:a[t%a.length]},`cell-${t}`)))}),(0,u.jsx)(v.m,{})]})})};var x=a(6405),g=a(4770),p=a(4624),j=a(1794),y=a(2916),N=a(7077),f=a(9657);const w=e=>{let{title:t,showMonthSelect:a=!0,onBack:o}=e;const d=(0,f.Ub)({maxWidth:768}),[c,m]=(0,s.useState)(!0),[v,w]=(0,s.useState)("Expense"),[b,A]=(0,s.useState)({value:(new Date).getMonth(),label:(0,n.Ly)()[(new Date).getMonth()].label}),[S,F]=(0,s.useState)({value:(new Date).getFullYear(),label:(new Date).getFullYear().toString()}),[C,_]=(0,s.useState)([]),[k,D]=(0,s.useState)("summary"),[M,E]=(0,s.useState)([]),[$,L]=(0,s.useState)(null),[z,I]=(0,s.useState)(0),[O,Y]=(0,s.useState)(!0);(0,s.useEffect)((()=>{d&&Y(!1)}),[d]),(0,s.useEffect)((()=>{(async()=>{m(!0);const e=await(0,N.r2)();let t;t=a?e.filter((e=>{const t=new Date(e.date);return e.type===v&&t.getMonth()===b.value&&t.getFullYear()===S.value})):e.filter((e=>{const t=new Date(e.date);return e.type===v&&t.getFullYear()===S.value}));const i=t.reduce(((e,t)=>e+t.amount),0),s={};t.forEach((e=>{s[e.category_name]||(s[e.category_name]={amount:0,icon:e.category_icon,transactions:[]}),s[e.category_name].amount+=e.amount,s[e.category_name].transactions.push(e)}));const n=Object.entries(s).map((e=>{let[t,a]=e;return{category_name:t,category_icon:a.icon,amount:a.amount,percentage:Math.round(a.amount/i*100),type:v,transactions:a.transactions}})).sort(((e,t)=>t.amount-e.amount));_(n),m(!1)})()}),[v,b,S,a]);return(0,u.jsxs)(u.Fragment,{children:["summary"===k&&(0,u.jsxs)(l.A,{title:t,onBack:o,children:[(0,u.jsxs)("div",{className:"toggle-button-group",children:[(0,u.jsx)("button",{onClick:()=>w("Expense"),className:"Expense"===v?"active":"",children:"Expense"}),(0,u.jsx)("button",{onClick:()=>w("Income"),className:"Income"===v?"active":"",children:"Income"})]}),(0,u.jsx)(g.A,{yearValue:S,onYearChange:e=>F(e),monthValue:b,onMonthChange:e=>A(e),disabled:c,showMonth:a}),(0,u.jsx)(u.Fragment,{children:c?(0,u.jsx)(x.A,{text:"Loading Categories"}):0===(null===C||void 0===C?void 0:C.length)?(0,u.jsx)(p.A,{message:"No transactions",height:"150",width:"200"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"align-right",children:(0,u.jsx)(r.A,{text:d?null:O?"Hide Chart":"Show Chart",onClick:()=>{Y(!O)},icon:O?(0,u.jsx)(i.mx3,{}):(0,u.jsx)(i.v$b,{})})}),O&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(h,{data:null===C||void 0===C?void 0:C.map((e=>({value:null===e||void 0===e?void 0:e.percentage,name:null===e||void 0===e?void 0:e.category_name}))),colors:(0,n.Wl)(C.length)})}),(0,u.jsx)("div",{className:"transaction-card-list",children:null===C||void 0===C?void 0:C.map(((e,t)=>(0,u.jsx)(j.A,{transaction:e,onCardClick:()=>{D("transactions"),E((0,n.SS)(e.transactions)),L(e.category_name),I(e.amount),sessionStorage.setItem("transactionsViewMode",JSON.stringify(!0))}},t)))})]})})]}),"transactions"===k&&(0,u.jsx)(l.A,{title:t,onBack:()=>{D("summary"),E({})},children:(0,u.jsx)(y.A,{name:$,amount:z,transactions:M})})]})}},9984:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);var i=a(579);const s=e=>{let{progress:t=0,text:a="",subtext:s="",pathColor:n="#3b82f6",textColor:l="#000",fontSize:r="1rem",size:o=100,strokeWidth:d=10}=e;const c=(o-d)/2,m=2*Math.PI*c,v=m*(1-t/100);return(0,i.jsxs)("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,children:[(0,i.jsx)("circle",{cx:o/2,cy:o/2,r:c,fill:"none",stroke:"#e5e7eb",strokeWidth:d}),(0,i.jsx)("circle",{cx:o/2,cy:o/2,r:c,fill:"none",stroke:n,strokeWidth:d,strokeDasharray:m,strokeDashoffset:v,strokeLinecap:"round",transform:`rotate(-90 ${o/2} ${o/2})`,style:{transition:"stroke-dashoffset 0.5s ease"}}),(0,i.jsx)("text",{x:"50%",y:s?"40%":"50%",textAnchor:"middle",dominantBaseline:"central",fill:l,fontSize:r,fontWeight:"bold",children:a}),s&&(0,i.jsx)("text",{x:"50%",y:"60%",textAnchor:"middle",dominantBaseline:"central",fill:l,fontSize:r,fontWeight:"bold",children:s})]})}}}]);
//# sourceMappingURL=984.febae379.chunk.js.map